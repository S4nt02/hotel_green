{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RecoverPage(){const[email,setEmail]=useState('');const[mensagem,setMensagem]=useState('');const[carregando,setCarregando]=useState(false);const validarEmail=email=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(email);};const verificarEmail=async()=>{setCarregando(true);setMensagem('');if(!validarEmail(email)){setMensagem('❌ Email inválido.');setCarregando(false);return;}try{const API_URL=process.env.REACT_APP_API_URL||'http://localhost:8080';const resposta=await fetch(`${API_URL}/recover_senha`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email})});const dados=await resposta.json();if(dados.sucesso){setMensagem('✅ Nova senha enviada para seu e-mail!');}else if(dados.existe===false){setMensagem('❌ Email não encontrado.');}else{setMensagem('❌ Ocorreu um erro inesperado.');}}catch(error){setMensagem('❌ Erro ao verificar e enviar email.');}setCarregando(false);};const estilosMensagem={sucesso:{color:'green'},erro:{color:'red'}};let tipoMensagem='erro';if(mensagem.includes('Nova senha'))tipoMensagem='sucesso';return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recuperar Senha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Digite o email\",value:email,onChange:e=>setEmail(e.target.value),style:styles.input}),/*#__PURE__*/_jsx(\"button\",{onClick:verificarEmail,style:styles.button,disabled:carregando,children:carregando?'Enviando...':'Enviar nova senha'}),/*#__PURE__*/_jsx(\"p\",{style:tipoMensagem==='sucesso'?estilosMensagem.sucesso:estilosMensagem.erro,children:mensagem})]});}const styles={container:{maxWidth:400,margin:'50px auto',padding:20,border:'1px solid #ddd',borderRadius:10,textAlign:'center',fontFamily:'Arial'},input:{width:'100%',padding:10,fontSize:16,marginBottom:10,borderRadius:5,border:'1px solid #ccc'},button:{padding:'10px 20px',fontSize:16,borderRadius:5,backgroundColor:'#007bff',color:'white',border:'none',cursor:'pointer'}};export default RecoverPage;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","RecoverPage","email","setEmail","mensagem","setMensagem","carregando","setCarregando","validarEmail","emailRegex","test","verificarEmail","API_URL","process","env","REACT_APP_API_URL","resposta","fetch","method","headers","body","JSON","stringify","dados","json","sucesso","existe","error","estilosMensagem","color","erro","tipoMensagem","includes","style","styles","container","children","type","placeholder","value","onChange","e","target","input","onClick","button","disabled","maxWidth","margin","padding","border","borderRadius","textAlign","fontFamily","width","fontSize","marginBottom","backgroundColor","cursor"],"sources":["C:/Users/netin/hotel_green/frontend/src/pages/recover_senha/recoverPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction RecoverPage() {\r\n  const [email, setEmail] = useState('');\r\n  const [mensagem, setMensagem] = useState('');\r\n  const [carregando, setCarregando] = useState(false);\r\n\r\n  const validarEmail = (email) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  };\r\n\r\n  const verificarEmail = async () => {\r\n    setCarregando(true);\r\n    setMensagem('');\r\n\r\n    if (!validarEmail(email)) {\r\n      setMensagem('❌ Email inválido.');\r\n      setCarregando(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080';\r\n      const resposta = await fetch(`${API_URL}/recover_senha`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email }),\r\n      });\r\n\r\n      const dados = await resposta.json();\r\n\r\n      if (dados.sucesso) {\r\n        setMensagem('✅ Nova senha enviada para seu e-mail!');\r\n      } else if (dados.existe === false) {\r\n        setMensagem('❌ Email não encontrado.');\r\n      } else {\r\n        setMensagem('❌ Ocorreu um erro inesperado.');\r\n      }\r\n    } catch (error) {\r\n      setMensagem('❌ Erro ao verificar e enviar email.');\r\n    }\r\n\r\n    setCarregando(false);\r\n  };\r\n\r\n  const estilosMensagem = {\r\n    sucesso: { color: 'green' },\r\n    erro: { color: 'red' },\r\n  };\r\n\r\n  let tipoMensagem = 'erro';\r\n  if (mensagem.includes('Nova senha')) tipoMensagem = 'sucesso';\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2>Recuperar Senha</h2>\r\n      <input\r\n        type=\"email\"\r\n        placeholder=\"Digite o email\"\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n        style={styles.input}\r\n      />\r\n      <button onClick={verificarEmail} style={styles.button} disabled={carregando}>\r\n        {carregando ? 'Enviando...' : 'Enviar nova senha'}\r\n      </button>\r\n      <p style={tipoMensagem === 'sucesso' ? estilosMensagem.sucesso : estilosMensagem.erro}>\r\n        {mensagem}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    maxWidth: 400,\r\n    margin: '50px auto',\r\n    padding: 20,\r\n    border: '1px solid #ddd',\r\n    borderRadius: 10,\r\n    textAlign: 'center',\r\n    fontFamily: 'Arial',\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    padding: 10,\r\n    fontSize: 16,\r\n    marginBottom: 10,\r\n    borderRadius: 5,\r\n    border: '1px solid #ccc',\r\n  },\r\n  button: {\r\n    padding: '10px 20px',\r\n    fontSize: 16,\r\n    borderRadius: 5,\r\n    backgroundColor: '#007bff',\r\n    color: 'white',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\nexport default RecoverPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}