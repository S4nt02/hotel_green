{"ast":null,"code":"import{useEffect,useState}from\"react\";import{API_URL}from\"../../url\";import{Swiper,SwiperSlide}from'swiper/react';import'swiper/css';import'swiper/css/navigation';import{Navigation}from'swiper/modules';import{useAuth}from\"../../context/authContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function FazerReserva(){var _unidades$find;const{id,autorizacao,nomeUser}=useAuth();const[telaExibida,setTelaExibida]=useState(1);const[tpQuartos,setDadosTpQuarto]=useState([]);const[unidades,setUnidades]=useState([]);const[checkIn,setCheckIn]=useState(\"\");const[checkOut,setCheckOut]=useState(\"\");const[unidadeBuscar,setUnidadeBuscar]=useState();const[exibirTpQuartos,setExibirTpQuartos]=useState([]);const[acomodacoesDisponiveis,setAcomodacoesDisp]=useState([]);const[tpQuartoSelecionado,setTpQuartoSelecionado]=useState([]);const[periodo,setPeriodo]=useState([]);const[acompanhantesAdultos,setAcompanhantesAdultos]=useState([]);const[acompanhantesCriancas,setAcompanhantesCriancas]=useState([]);const buscarTpQuarto=async()=>{try{const buscarTiposQuartos=await fetch(`${API_URL}/api/buscarTipoQuartos`);const dados=await buscarTiposQuartos.json();if(!buscarTiposQuartos.ok){}setDadosTpQuarto(dados);setExibirTpQuartos(dados);}catch(erro){}};const buscarUnidade=async()=>{try{const buscarUnidade=await fetch(`${API_URL}/api/buscarUnidade`);const dados=await buscarUnidade.json();setUnidades(dados);}catch{}};const buscarAcomodacoesDisp=async()=>{const parametros={checkIn,checkOut,unidade:unidadeBuscar};try{const buscarDisp=await fetch(`${API_URL}/api/quartosDisponiveis`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(parametros)});const dados=await buscarDisp.json();setAcomodacoesDisp(dados.acomodacoesDisponiveis);// Aguarda o tpQuartos estar carregado\nif(tpQuartos.length>0){const tiposFiltrados=tpQuartos.filter(tpQuarto=>dados.tpAcomodacao.includes(tpQuarto.id)&&String(tpQuarto.unidade_hotel)===String(unidadeBuscar));setExibirTpQuartos(tiposFiltrados);}else{console.warn(\"tpQuartos ainda está vazio no momento do filtro.\");}}catch(erro){console.error(\"Erro ao buscar acomodações:\",erro);}};const setTpQuartoInfos=id=>{const quartoInfo=exibirTpQuartos.find(tpQuarto=>tpQuarto.id===id);setTpQuartoSelecionado(quartoInfo);// quartoInfo será um objeto\nconsole.log(tpQuartoSelecionado);calcularDiferencaDias(checkIn,checkOut);setAcompanhantesAdultos(Array(quartoInfo.quantidade_adultos).fill(\"\"));setAcompanhantesCriancas(Array(quartoInfo,quantidade_criancas).fill(\"\"));};const calcularDiferencaDias=(checkIn,checkOut)=>{const dataInicial=new Date(checkIn);const dataFinal=new Date(checkOut);// Zerar hora/minuto/segundo para evitar diferença parcial\ndataInicial.setHours(0,0,0,0);dataFinal.setHours(0,0,0,0);const diferencaEmMs=dataFinal.getTime()-dataInicial.getTime();const diferencaEmDias=Math.floor(diferencaEmMs/(1000*60*60*24));console.log(diferencaEmDias);setPeriodo(diferencaEmDias);};const confirmarReserva=async()=>{const dados={checkIn:checkIn,checkOut:checkOut,periodo:periodo,unidade:unidadeBuscar,tpAcomodacao:tpQuartoSelecionado.id,vlDiaria:tpQuartoSelecionado.vlDiaria,id_hospede:id,acompanhantesAdultos:acompanhantesAdultos,acompanhantesCriancas:acompanhantesCriancas};const confirmarReserva=await fetch(`${API_URL}/api/confirmarReserva`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(dados)});if(confirmarReserva.sucesso){}};useEffect(()=>{buscarTpQuarto();buscarUnidade();},[]);useEffect(()=>{if(checkIn||checkOut||unidadeBuscar){buscarAcomodacoesDisp();}else{// Se quiser, limpa os estados quando algum parâmetro estiver vazio\nsetAcomodacoesDisp([]);setExibirTpQuartos([]);}},[checkIn,checkOut,unidadeBuscar]);return/*#__PURE__*/_jsxs(_Fragment,{children:[telaExibida===1&&/*#__PURE__*/// tela de seleção dos valores\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"//dados de check-in check-out unidade adultos e crian\\xE7as\",/*#__PURE__*/_jsx(\"label\",{children:\"Unidade\"}),/*#__PURE__*/_jsxs(\"select\",{value:unidadeBuscar,onChange:e=>setUnidadeBuscar(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:'',children:\"Selecione uma unidade\"}),unidades.map(unidade=>/*#__PURE__*/_jsx(\"option\",{value:unidade.id,children:unidade.nomeUnidade},unidade.id))]}),/*#__PURE__*/_jsx(\"label\",{children:\"Check-in\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:checkIn,onChange:e=>setCheckIn(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"Check-out\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:checkOut,onChange:e=>setCheckOut(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"//exibi\\xE7\\xE3o dos tipos de quartos\",/*#__PURE__*/_jsx(\"div\",{children:exibirTpQuartos.map(tpQuarto=>{var _tpQuarto$imagens;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:tpQuarto.nomeAcomodacao}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Swiper,{modules:[Navigation],navigation:true,spaceBetween:10,slidesPerView:1,style:{width:'300px',height:'300px'},children:(_tpQuarto$imagens=tpQuarto.imagens)===null||_tpQuarto$imagens===void 0?void 0:_tpQuarto$imagens.map((url,index)=>/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsx(\"img\",{src:url,alt:`Imagem ${index+1}`,style:{width:'300px',height:'300px',objectFit:'cover'}})},index))})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTpQuartoInfos(tpQuarto.id),children:\"Selecionar\"})]},tpQuarto.id);})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTelaExibida(2),children:\"Avan\\xE7ar\"})})]}),telaExibida===2&&/*#__PURE__*///tela de confirmaçao de informações\n_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Confirmar Reservas\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Revise os detalhes de sua reserva antes de confirmar\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Unidade: \",(_unidades$find=unidades.find(unidade=>String(unidade.id)===String(unidadeBuscar)))===null||_unidades$find===void 0?void 0:_unidades$find.nomeUnidade]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Check-in: \",checkIn]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Check-out: \",checkOut]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Per\\xEDodo: \",periodo,\" noites \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Acomoda\\xE7\\xE3o: \",tpQuartoSelecionado.nomeAcomodacao]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Diaria: \",tpQuartoSelecionado.vlDiaria]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Hospede: \",nomeUser]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Acompanhantes\"}),tpQuartoSelecionado.quantidade_adultos>1&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Adultos\"}),[...Array(tpQuartoSelecionado.quantidade_adultos)].map((_,index)=>/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:`Acompanhante ${index+1}`,value:acompanhantesAdultos[index]||\"\",onChange:()=>{const novoAcompanhantes=[...acompanhantesAdultos];novoAcompanhantes[index]=e.target.value;setAcompanhantesAdultos(novoAcompanhantes);}}))]})}),tpQuartoSelecionado.quantidade_criancas>0&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Crian\\xE7as\"}),[...Array(tpQuartoSelecionado.quantidade_criancas)].map((_,index)=>/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:`Criança ${index+1}`,value:acompanhantesCriancas[index]||\"\",onChange:()=>{const novoAcompanhantes=[...acompanhantesCriancas];novoAcompanhantes[index]=e.target.value;setAcompanhantesCriancas(novoAcompanhantes);}}))]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTelaExibida(1),children:\"Voltar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmarReserva,children:\"Confirmar Reservas\"})]})]})})]});}export default FazerReserva;","map":{"version":3,"names":["useEffect","useState","API_URL","Swiper","SwiperSlide","Navigation","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FazerReserva","_unidades$find","id","autorizacao","nomeUser","telaExibida","setTelaExibida","tpQuartos","setDadosTpQuarto","unidades","setUnidades","checkIn","setCheckIn","checkOut","setCheckOut","unidadeBuscar","setUnidadeBuscar","exibirTpQuartos","setExibirTpQuartos","acomodacoesDisponiveis","setAcomodacoesDisp","tpQuartoSelecionado","setTpQuartoSelecionado","periodo","setPeriodo","acompanhantesAdultos","setAcompanhantesAdultos","acompanhantesCriancas","setAcompanhantesCriancas","buscarTpQuarto","buscarTiposQuartos","fetch","dados","json","ok","erro","buscarUnidade","buscarAcomodacoesDisp","parametros","unidade","buscarDisp","method","headers","body","JSON","stringify","length","tiposFiltrados","filter","tpQuarto","tpAcomodacao","includes","String","unidade_hotel","console","warn","error","setTpQuartoInfos","quartoInfo","find","log","calcularDiferencaDias","Array","quantidade_adultos","fill","quantidade_criancas","dataInicial","Date","dataFinal","setHours","diferencaEmMs","getTime","diferencaEmDias","Math","floor","confirmarReserva","vlDiaria","id_hospede","sucesso","children","value","onChange","e","target","map","nomeUnidade","type","_tpQuarto$imagens","nomeAcomodacao","modules","navigation","spaceBetween","slidesPerView","style","width","height","imagens","url","index","src","alt","objectFit","onClick","_","placeholder","novoAcompanhantes"],"sources":["C:/Users/andre/hotel_green/frontend/src/componetes/fazerReserva/fazerReserva.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { API_URL } from \"../../url\"\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/css';\r\nimport 'swiper/css/navigation';\r\nimport { Navigation } from 'swiper/modules';\r\nimport { useAuth } from \"../../context/authContext\";\r\n\r\nfunction FazerReserva () {\r\n\r\n    const {id, autorizacao, nomeUser} = useAuth()\r\n    const [telaExibida, setTelaExibida] = useState(1)\r\n    const [tpQuartos, setDadosTpQuarto] = useState([])\r\n    const [unidades, setUnidades] = useState([])\r\n    const [checkIn, setCheckIn] = useState(\"\")\r\n    const [checkOut, setCheckOut] = useState(\"\")\r\n    const [unidadeBuscar, setUnidadeBuscar] = useState()\r\n    const [exibirTpQuartos, setExibirTpQuartos] = useState([])\r\n    const [acomodacoesDisponiveis, setAcomodacoesDisp] = useState([])\r\n    const [tpQuartoSelecionado, setTpQuartoSelecionado] = useState([])\r\n    const [periodo, setPeriodo] = useState([])\r\n    const [acompanhantesAdultos, setAcompanhantesAdultos] = useState([])\r\n    const [acompanhantesCriancas, setAcompanhantesCriancas] = useState([])\r\n\r\n    const buscarTpQuarto = async () => {\r\n        try{\r\n            const buscarTiposQuartos = await fetch(`${API_URL}/api/buscarTipoQuartos`)\r\n            const dados = await buscarTiposQuartos.json()\r\n\r\n            if(!buscarTiposQuartos.ok){\r\n                \r\n            }\r\n\r\n            setDadosTpQuarto(dados)\r\n            setExibirTpQuartos(dados)\r\n        }\r\n        catch(erro){\r\n            \r\n        }\r\n    }\r\n\r\n    const buscarUnidade = async () => {\r\n        try{\r\n            const buscarUnidade = await fetch(`${API_URL}/api/buscarUnidade`)\r\n            const dados = await buscarUnidade.json()\r\n\r\n            setUnidades(dados)\r\n        }\r\n        catch{\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const buscarAcomodacoesDisp = async () => {\r\n    const parametros = {\r\n        checkIn,\r\n        checkOut,\r\n        unidade: unidadeBuscar,\r\n    };\r\n\r\n    try {\r\n        const buscarDisp = await fetch(`${API_URL}/api/quartosDisponiveis`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(parametros),\r\n        });\r\n\r\n        const dados = await buscarDisp.json();\r\n\r\n        setAcomodacoesDisp(dados.acomodacoesDisponiveis);\r\n\r\n        // Aguarda o tpQuartos estar carregado\r\n        if (tpQuartos.length > 0) {\r\n        const tiposFiltrados = tpQuartos.filter(tpQuarto =>\r\n            dados.tpAcomodacao.includes(tpQuarto.id) &&\r\n            String(tpQuarto.unidade_hotel) === String(unidadeBuscar)\r\n        );\r\n        setExibirTpQuartos(tiposFiltrados);\r\n        } else {\r\n        console.warn(\"tpQuartos ainda está vazio no momento do filtro.\");\r\n        }\r\n\r\n    } catch (erro) {\r\n        console.error(\"Erro ao buscar acomodações:\", erro);\r\n    }\r\n    };\r\n\r\n    const setTpQuartoInfos = (id) => {\r\n        const quartoInfo = exibirTpQuartos.find(tpQuarto => tpQuarto.id === id);\r\n        setTpQuartoSelecionado(quartoInfo); // quartoInfo será um objeto\r\n        console.log(tpQuartoSelecionado)\r\n        calcularDiferencaDias(checkIn, checkOut)\r\n        setAcompanhantesAdultos(Array(quartoInfo.quantidade_adultos).fill(\"\"))\r\n        setAcompanhantesCriancas(Array(quartoInfo,quantidade_criancas).fill(\"\"))\r\n    }\r\n\r\n    const calcularDiferencaDias = (checkIn, checkOut) => {\r\n        const dataInicial = new Date(checkIn);\r\n        const dataFinal = new Date(checkOut);\r\n\r\n        // Zerar hora/minuto/segundo para evitar diferença parcial\r\n        dataInicial.setHours(0, 0, 0, 0);\r\n        dataFinal.setHours(0, 0, 0, 0);\r\n\r\n        const diferencaEmMs = dataFinal.getTime() - dataInicial.getTime();\r\n        const diferencaEmDias = Math.floor(diferencaEmMs / (1000 * 60 * 60 * 24));\r\n        console.log(diferencaEmDias)\r\n        \r\n        setPeriodo(diferencaEmDias)\r\n    };\r\n\r\n    const confirmarReserva = async () => {\r\n        \r\n        const dados = {\r\n            checkIn : checkIn,\r\n            checkOut : checkOut,\r\n            periodo : periodo,\r\n            unidade : unidadeBuscar,\r\n            tpAcomodacao : tpQuartoSelecionado.id,\r\n            vlDiaria : tpQuartoSelecionado.vlDiaria,\r\n            id_hospede : id,\r\n            acompanhantesAdultos : acompanhantesAdultos,\r\n            acompanhantesCriancas : acompanhantesCriancas,\r\n        }\r\n\r\n        const confirmarReserva = await fetch(`${API_URL}/api/confirmarReserva`, {\r\n            method : 'POST',\r\n            headers :{\r\n                'Content-Type' : 'application/json'\r\n            },\r\n            body : JSON.stringify(dados)\r\n        })\r\n\r\n        if(confirmarReserva.sucesso){\r\n            \r\n        }\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        buscarTpQuarto();\r\n        buscarUnidade();\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if (checkIn || checkOut || unidadeBuscar) {\r\n            buscarAcomodacoesDisp();\r\n        } else {\r\n            // Se quiser, limpa os estados quando algum parâmetro estiver vazio\r\n            setAcomodacoesDisp([]);\r\n            setExibirTpQuartos([]);\r\n        }\r\n    }, [checkIn, checkOut, unidadeBuscar]);\r\n\r\n\r\n\r\n    return(\r\n        <>\r\n            {telaExibida === 1 &&(\r\n                // tela de seleção dos valores\r\n                <>\r\n                    <div>\r\n                        //dados de check-in check-out unidade adultos e crianças\r\n                        <label>Unidade</label>\r\n                        <select value={unidadeBuscar} onChange={(e) => setUnidadeBuscar(e.target.value)}>\r\n                            <option value={''}>Selecione uma unidade</option>\r\n                            {unidades.map(unidade =>(\r\n                                <option key={unidade.id} value={unidade.id}>{unidade.nomeUnidade}</option>\r\n                            ))}\r\n                        </select>                        \r\n                        <label>Check-in</label>\r\n                        <input type=\"date\" value={checkIn} onChange={(e) => setCheckIn(e.target.value)}></input>\r\n                        <label>Check-out</label>\r\n                        <input type=\"date\" value={checkOut} onChange={(e) => setCheckOut(e.target.value)}></input>\r\n                        \r\n\r\n                    </div>\r\n                    <div>\r\n                        //exibição dos tipos de quartos\r\n                        \r\n                        <div>\r\n                            {exibirTpQuartos.map(tpQuarto =>(\r\n                                <div key={tpQuarto.id}>\r\n                                    <h3>{tpQuarto.nomeAcomodacao}</h3>\r\n                                    <div>\r\n                                        <Swiper\r\n                                        modules={[Navigation]}\r\n                                        navigation\r\n                                        spaceBetween={10}\r\n                                        slidesPerView={1}\r\n                                        style={{ width: '300px', height: '300px' }}\r\n                                        >\r\n                                        {tpQuarto.imagens?.map((url, index) => (\r\n                                            <SwiperSlide key={index}>\r\n                                            <img src={url} alt={`Imagem ${index + 1}`} style={{ width: '300px', height: '300px', objectFit: 'cover' }} />\r\n                                            </SwiperSlide>\r\n                                        ))}\r\n                                        </Swiper>\r\n                                    </div>\r\n                                    <button onClick={() => setTpQuartoInfos(tpQuarto.id)}>Selecionar</button>\r\n                                </div>\r\n                                \r\n                            ))}\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={() => setTelaExibida(2)}>Avançar</button>\r\n                    </div>\r\n                </>\r\n            )}\r\n\r\n            {telaExibida === 2 &&(\r\n                //tela de confirmaçao de informações\r\n                <>\r\n                    <div>\r\n                        <h3>Confirmar Reservas</h3>\r\n                        <p>Revise os detalhes de sua reserva antes de confirmar</p>\r\n                        <div>\r\n                            <p>Unidade: {unidades.find(unidade => String(unidade.id) === String(unidadeBuscar))?.nomeUnidade}</p>\r\n                            <p>Check-in: {checkIn}</p>\r\n                            <p>Check-out: {checkOut}</p>\r\n                            <p>Período: {periodo} noites </p>\r\n                            <p>Acomodação: {tpQuartoSelecionado.nomeAcomodacao}</p>\r\n                            <p>Diaria: {tpQuartoSelecionado.vlDiaria}</p>\r\n                            <div>\r\n                                <p>Hospede: {nomeUser}</p>\r\n                                <div>\r\n                                    <p>Acompanhantes</p>\r\n                                    {tpQuartoSelecionado.quantidade_adultos > 1 && (\r\n                                        <>\r\n                                            <div>\r\n                                                <label>Adultos</label>\r\n                                                {[...Array(tpQuartoSelecionado.quantidade_adultos)].map((_, index) =>(\r\n                                                    <input type=\"text\" placeholder={`Acompanhante ${index + 1}`}\r\n                                                        value={acompanhantesAdultos[index] || \"\"}\r\n                                                        onChange={() => {\r\n                                                            const novoAcompanhantes = [...acompanhantesAdultos]\r\n                                                            novoAcompanhantes[index] = e.target.value\r\n                                                            setAcompanhantesAdultos(novoAcompanhantes)\r\n                                                        }}\r\n                                                    ></input>\r\n                                                ))}\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                    {tpQuartoSelecionado.quantidade_criancas > 0 && (\r\n                                        <>\r\n                                            <div>\r\n                                                <label>Crianças</label>\r\n                                                 {[...Array(tpQuartoSelecionado.quantidade_criancas)].map((_, index) =>(\r\n                                                    <input type=\"text\" placeholder={`Criança ${index + 1}`}\r\n                                                        value={acompanhantesCriancas[index] || \"\"}\r\n                                                        onChange={() => {\r\n                                                            const novoAcompanhantes = [...acompanhantesCriancas]\r\n                                                            novoAcompanhantes[index] = e.target.value\r\n                                                            setAcompanhantesCriancas(novoAcompanhantes)\r\n                                                        }}\r\n                                                    ></input>\r\n                                                 ))}\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <button onClick={() => setTelaExibida(1)}>Voltar</button>\r\n                            <button onClick={confirmarReserva}>Confirmar Reservas</button>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FazerReserva"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}