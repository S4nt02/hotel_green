{"ast":null,"code":"import{useEffect,useState}from\"react\";import{API_URL}from\"../../url\";import{Swiper,SwiperSlide}from'swiper/react';import'swiper/css';import'swiper/css/navigation';import{Navigation}from'swiper/modules';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function FazerReserva(){const[telaExibida,setTelaExibida]=useState(1);const[tpQuartos,setDadosTpQuarto]=useState([]);const[unidades,setUnidades]=useState([]);const[checkIn,setCheckIn]=useState(\"\");const[checkOut,setCheckOut]=useState(\"\");const[unidadeBuscar,setUnidadeBuscar]=useState();const[tpQuartosFiltro,setTpQuartosFiltro]=useState([]);const[exibirTpQuartos,setExibirTpQuartos]=useState([]);const[acomodacoesDisponiveis,setAcomodacoesDisp]=useState([]);const buscarTpQuarto=async()=>{try{const buscarTiposQuartos=await fetch(`${API_URL}/api/buscarTipoQuartos`);const dados=await buscarTiposQuartos.json();if(!buscarTiposQuartos.ok){}setDadosTpQuarto(dados);}catch(erro){}};const buscarUnidade=async()=>{try{const buscarUnidade=await fetch(`${API_URL}/api/buscarUnidade`);const dados=await buscarUnidade.json();setUnidades(dados);}catch{}};const buscarAcomodacoesDisp=async()=>{const parametros=[];parametros.checkIn=checkIn;parametros.checkOut=checkOut;parametros.unidade=unidadeBuscar;try{const buscarDisp=await fetch(`${API_URL}/api/quartosDisponiveis`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(parametros)});const dados=await buscarDisp.json();console.log(dados.tpAcomodacao);console.log(dados.acomodacoesDisponiveis);setTpQuartosFiltro(dados.tpAcomodacao);setAcomodacoesDisp(dados.acomodacoesDisponiveis);}catch{}};useEffect(()=>{buscarTpQuarto();buscarUnidade();},[]);useEffect(()=>{if(checkIn||checkOut||unidadeBuscar){buscarAcomodacoesDisp();filtroTpQuartos();}},[checkIn,checkOut,unidadeBuscar]);const filtroTpQuartos=()=>{console.log(tpQuartosFiltro);const tiposFiltrados=tpQuartos.filter(tpQuarto=>tpQuartosFiltro.includes(tpQuarto.id));setExibirTpQuartos(tiposFiltrados);console.log(tiposFiltrados);};return/*#__PURE__*/_jsxs(_Fragment,{children:[telaExibida===1&&/*#__PURE__*/// tela de seleção dos valores\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"//dados de check-in check-out unidade adultos e crian\\xE7as\",/*#__PURE__*/_jsx(\"label\",{children:\"Check-in\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:checkIn,onChange:e=>setCheckIn(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"Check-out\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:checkOut,onChange:e=>setCheckOut(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"Unidade\"}),/*#__PURE__*/_jsxs(\"select\",{value:unidadeBuscar,onChange:e=>setUnidadeBuscar(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:'',children:\"Selecione uma unidade\"}),unidades.map(unidade=>/*#__PURE__*/_jsx(\"option\",{value:unidade.id,children:unidade.nomeUnidade},unidade.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"//exibi\\xE7\\xE3o dos tipos de quartos\",/*#__PURE__*/_jsx(\"div\",{children:exibirTpQuartos.map(tpQuarto=>{var _tpQuarto$imagens;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:tpQuarto.nomeAcomodacao}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Swiper,{modules:[Navigation],navigation:true,spaceBetween:10,slidesPerView:1,style:{width:'300px',height:'300px'},children:(_tpQuarto$imagens=tpQuarto.imagens)===null||_tpQuarto$imagens===void 0?void 0:_tpQuarto$imagens.map((url,index)=>/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsx(\"img\",{src:url,alt:`Imagem ${index+1}`,style:{width:'300px',height:'300px',objectFit:'cover'}})},index))})})]},tpQuarto.id);})})]})]}),telaExibida===2&&/*#__PURE__*///tela de confirmaçao de informações\n_jsx(_Fragment,{})]});}export default FazerReserva;","map":{"version":3,"names":["useEffect","useState","API_URL","Swiper","SwiperSlide","Navigation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FazerReserva","telaExibida","setTelaExibida","tpQuartos","setDadosTpQuarto","unidades","setUnidades","checkIn","setCheckIn","checkOut","setCheckOut","unidadeBuscar","setUnidadeBuscar","tpQuartosFiltro","setTpQuartosFiltro","exibirTpQuartos","setExibirTpQuartos","acomodacoesDisponiveis","setAcomodacoesDisp","buscarTpQuarto","buscarTiposQuartos","fetch","dados","json","ok","erro","buscarUnidade","buscarAcomodacoesDisp","parametros","unidade","buscarDisp","method","headers","body","JSON","stringify","console","log","tpAcomodacao","filtroTpQuartos","tiposFiltrados","filter","tpQuarto","includes","id","children","type","value","onChange","e","target","map","nomeUnidade","_tpQuarto$imagens","nomeAcomodacao","modules","navigation","spaceBetween","slidesPerView","style","width","height","imagens","url","index","src","alt","objectFit"],"sources":["C:/Users/andre/hotel_green/frontend/src/componetes/fazerReserva/fazerReserva.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { API_URL } from \"../../url\"\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/css';\r\nimport 'swiper/css/navigation';\r\nimport { Navigation } from 'swiper/modules';\r\n\r\nfunction FazerReserva () {\r\n\r\n    const [telaExibida, setTelaExibida] = useState(1)\r\n    const [tpQuartos, setDadosTpQuarto] = useState([])\r\n    const [unidades, setUnidades] = useState([])\r\n    const [checkIn, setCheckIn] = useState(\"\")\r\n    const [checkOut, setCheckOut] = useState(\"\")\r\n    const [unidadeBuscar, setUnidadeBuscar] = useState()\r\n    const [tpQuartosFiltro, setTpQuartosFiltro] = useState([])\r\n    const [exibirTpQuartos, setExibirTpQuartos] = useState([])\r\n    const [acomodacoesDisponiveis, setAcomodacoesDisp] = useState([])\r\n\r\n    const buscarTpQuarto = async () => {\r\n        try{\r\n            const buscarTiposQuartos = await fetch(`${API_URL}/api/buscarTipoQuartos`)\r\n            const dados = await buscarTiposQuartos.json()\r\n\r\n            if(!buscarTiposQuartos.ok){\r\n                \r\n            }\r\n\r\n            setDadosTpQuarto(dados)\r\n        }\r\n        catch(erro){\r\n            \r\n        }\r\n    }\r\n\r\n    const buscarUnidade = async () => {\r\n        try{\r\n            const buscarUnidade = await fetch(`${API_URL}/api/buscarUnidade`)\r\n            const dados = await buscarUnidade.json()\r\n\r\n            setUnidades(dados)\r\n        }\r\n        catch{\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const buscarAcomodacoesDisp = async () => {\r\n        const parametros = []\r\n        parametros.checkIn = checkIn\r\n        parametros.checkOut = checkOut\r\n        parametros.unidade = unidadeBuscar\r\n        try{\r\n            const buscarDisp = await fetch(`${API_URL}/api/quartosDisponiveis`, {\r\n                method : 'POST',\r\n                headers : {\r\n                    'Content-Type' : 'application/json'\r\n                },\r\n                body: JSON.stringify(parametros)\r\n            })\r\n\r\n            const dados = await buscarDisp.json()\r\n            console.log(dados.tpAcomodacao)\r\n            console.log(dados.acomodacoesDisponiveis)\r\n            setTpQuartosFiltro(dados.tpAcomodacao)\r\n            setAcomodacoesDisp(dados.acomodacoesDisponiveis)\r\n\r\n        }\r\n        catch{\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        buscarTpQuarto();\r\n        buscarUnidade();\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if (checkIn || checkOut || unidadeBuscar) {\r\n            buscarAcomodacoesDisp();\r\n            filtroTpQuartos();\r\n        }\r\n    }, [checkIn, checkOut, unidadeBuscar]);\r\n\r\n\r\n    const filtroTpQuartos = () => {\r\n        console.log(tpQuartosFiltro)\r\n        const tiposFiltrados = tpQuartos.filter(tpQuarto =>\r\n            tpQuartosFiltro.includes(tpQuarto.id)\r\n        );\r\n        setExibirTpQuartos(tiposFiltrados);\r\n        console.log(tiposFiltrados)\r\n    };\r\n\r\n\r\n    return(\r\n        <>\r\n            {telaExibida === 1 &&(\r\n                // tela de seleção dos valores\r\n                <>\r\n                    <div>\r\n                        //dados de check-in check-out unidade adultos e crianças\r\n                        <label>Check-in</label>\r\n                        <input type=\"date\" value={checkIn} onChange={(e) => setCheckIn(e.target.value)}></input>\r\n                        <label>Check-out</label>\r\n                        <input type=\"date\" value={checkOut} onChange={(e) => setCheckOut(e.target.value)}></input>\r\n                        <label>Unidade</label>\r\n                        <select value={unidadeBuscar} onChange={(e) => setUnidadeBuscar(e.target.value)}>\r\n                            <option value={''}>Selecione uma unidade</option>\r\n                            {unidades.map(unidade =>(\r\n                                <option key={unidade.id} value={unidade.id}>{unidade.nomeUnidade}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <div>\r\n                        //exibição dos tipos de quartos\r\n                        \r\n                        <div>\r\n                            {exibirTpQuartos.map(tpQuarto =>(\r\n                                <div key={tpQuarto.id}>\r\n                                    <h3>{tpQuarto.nomeAcomodacao}</h3>\r\n                                    <div>\r\n                                        <Swiper\r\n                                        modules={[Navigation]}\r\n                                        navigation\r\n                                        spaceBetween={10}\r\n                                        slidesPerView={1}\r\n                                        style={{ width: '300px', height: '300px' }}\r\n                                        >\r\n                                        {tpQuarto.imagens?.map((url, index) => (\r\n                                            <SwiperSlide key={index}>\r\n                                            <img src={url} alt={`Imagem ${index + 1}`} style={{ width: '300px', height: '300px', objectFit: 'cover' }} />\r\n                                            </SwiperSlide>\r\n                                        ))}\r\n                                        </Swiper>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n\r\n            {telaExibida === 2 &&(\r\n                //tela de confirmaçao de informações\r\n                <>\r\n                \r\n                </>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FazerReserva"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}