{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';//import para usar rotas\nimport{useEffect,useState}from'react';//import para recuperar dados do back\nimport{API_URL}from'../../url';import HeaderComponente from'../../componetes/header/headerComponente';import{User,Phone,MapPin,Calendar,Flag,Home,Mail,IdCard,FileText,Lock,MapPinHouse,Building2,Landmark,Building,Map,UserCog2}from'lucide-react';import\"./cadFuncionario.css\";import{set,useForm}from'react-hook-form';import{z}from'zod';import{zodResolver}from'@hookform/resolvers/zod';import{useNavigate}from'react-router-dom';import{KeyRound}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function CadFuncionario(_ref){let{dadosFuncionarioParaEditar}=_ref;const navigate=useNavigate();const[cep,setCep]=useState(\"\");const[dadosEndereco,setDadosEndereco]=useState(\"\");const[erroCep,setErroCep]=useState(\"\");const[cpf_rg,setCPF_RG]=useState(\"\");const[cargos,setCargo]=useState([]);const[erroCargo,setErroCargo]=useState(false);const[dadosFuncionario,setDadosFuncionario]=useState(()=>dadosFuncionarioParaEditar||{});const[editar,setEditar]=useState(false);const[idFuncionario,setIdFuncionario]=useState();const[mensagem,setMensagem]=useState(\"\");const[alertas,setAlertas]=useState(false);const buscarCargo=async()=>{try{const resposta=await fetch(`${API_URL}/cargos`);const data=await resposta.json();if(!resposta.ok){setCargo([]);setErroCargo(true);}setCargo(data);}catch{setCargo([]);setErroCargo(true);}};///////////////////API CORREIOS/////////////////////\nconst buscarCep=async buscarCep=>{console.log(\"chamando função\");if(buscarCep.length>7){console.log(\"CEP digitado:\",buscarCep);try{const resposta=await fetch(`${API_URL}/api/cep/${buscarCep}`);const data=await resposta.json();if(!resposta.ok||data.erro){setErroCep(\"CEP não encontrado\");setDadosEndereco({});return;}setDadosEndereco(data);setErroCep(\"\");// Se quiser ver os dados, use um efeito ou log direto aqui\nconsole.log(\"Dados recebidos:\",data);}finally{}}};/////////////////////////////////////////////////////////\n/////////////validação formulário////////////////\nconst validar=z.object({nome:z.string().min(10,{message:\"Nome completo é obrigatório\"}),dtNascimento:z.string().min(1,{message:\"A data de nascimento é obrigatória\"})// Garante que o campo não está vazio\n.transform(val=>new Date(val))// Transforma em Date\n.refine(date=>date<=new Date(),{message:\"A data de nascimento não pode ser no futuro\"}),nomeMae:z.string().min(10,{message:\"Nome da Mãe é obrigatório\"}),nomePai:z.string().optional(),email:z.string().email({message:\"Formato de email inválido\"}).refine(email=>email.trim().length>0,{message:\"Email é obrigatório\"}),senha:z.string().min(8,\"A senha deve conter no mínimo 8 digitos\").refine(s=>s.trim().length>0,{message:\"Por favor, crie uma senha\"}),confirmarSenha:z.string().refine(s=>s.trim().length>0,{message:\"Por favor confirme sua senha\"}),documento:z.string().refine(val=>val.trim().length>0,{message:\"CPF é obrigatório\"}).refine(val=>validarCPF_RG(val),{message:\"CPF inválido\"}),cargo:z.coerce.number().min(1,\"Selecione um cargo válido\"),autorizacao:z.coerce.number().min(1,\"Selecione um cargo válido\"),telefone:z.string().refine(telefone=>telefone.trim().length>0,{message:\"O número de telefone é obrigatório\"}),cep:z.string().optional(),logradouro:z.string().refine(logradouro=>logradouro.trim().length>0,{message:\"Logradouro é obrigatório\"}),numero:z.string().refine(numero=>numero.trim().length>0,{message:\"Número é obrigatório\"}),complemento:z.string().optional(),bairro:z.string().refine(bairro=>bairro.trim().length>0,{message:\"Bairro é obrigatório\"}),cidade:z.string().refine(cidade=>cidade.trim().length>0,{message:\"Cidade é obrigatório\"}),estado:z.string().refine(estado=>estado.trim().length>0,{message:\"Estado é obrigatório\"}),pais:z.string().refine(pais=>pais.trim().length>0,{message:\"País é obrigatório\"})}).refine(data=>data.senha===data.confirmarSenha,{path:['confirmarSenha'],message:\"As senhas não coincidem\"}).refine(data=>{return data.cep&&data.cep.trim().length>0;},{path:['cep'],message:\"CEP é obrigatório\"});///////////////validação de CPF//////////////////\nconst validarCPF_RG=cpf_rg=>{console.log(cpf_rg);if(!cpf_rg)return false;// Se cpf_rg for undefined ou null, retorna false imediatamente.\n// Se o documento for CPF\nelse{cpf_rg=cpf_rg.replace(/[^\\d]/g,\"\");// Remove caracteres não numéricos\n// Verifica se o CPF tem 11 dígitos e não é uma sequência repetitiva\nif(cpf_rg.length!==11||/^(\\d)\\1{10}$/.test(cpf_rg))return false;// Calcula os dígitos verificadores do CPF\nlet sum=0;for(let i=0;i<9;i++)sum+=parseInt(cpf_rg[i])*(10-i);let firstVerifier=11-sum%11;firstVerifier=firstVerifier===10||firstVerifier===11?0:firstVerifier;sum=0;for(let i=0;i<10;i++)sum+=parseInt(cpf_rg[i])*(11-i);let secondVerifier=11-sum%11;secondVerifier=secondVerifier===10||secondVerifier===11?0:secondVerifier;// Compara os dígitos verificadores calculados com os do CPF\nreturn cpf_rg[9]===firstVerifier.toString()&&cpf_rg[10]===secondVerifier.toString();}// Lógica para validar RG (ainda não implementada)\nreturn true;// Se não for nem CPF nem RG, retorna true\n};//////////////////////////////////////////////////////////////\n////////////////////////ENIO FORMULARIO///////////////////////\nconst{register,handleSubmit,setValue,reset,watch,formState:{errors}}=useForm({resolver:zodResolver(validar)});const enviarFormulario=async dados=>{console.log(\"chamando a função\");console.log(`dados ${JSON.stringify(dados)}`);console.log(alertas);setAlertas(true);console.log(alertas);if(editar){try{dados.id=idFuncionario;const cadastrar=await fetch(`${API_URL}/api/editarFuncionario`,{method:'POST',headers:{'Content-Type':\"application/json\"},body:JSON.stringify(dados)});if(!cadastrar.editado){setMensagem(\"Erro ao atualizar o cadastro do Funcionário\");}setMensagem(\"Cadastro do funcionario atualizado com sucesso\");setDadosFuncionario({});}catch(erro){setMensagem(\"Erro ao atualizar o cadastro do Funcionário\");}}else{try{const cadastrar=await fetch(`${API_URL}/api/cadFuncionario`,{method:'POST',headers:{'Content-Type':\"application/json\"},body:JSON.stringify(dados)});if(!cadastrar.sucesso){setMensagem(\"Erro ao cadastrar do Funcionário\");}setMensagem(\"Funcionário cadastrado com sucesso\");}catch(erro){setMensagem(\"Erro ao cadastrar do Funcionário\");}}};const onError=errors=>{console.log(\"❌ Erros de validação:\");console.log(errors);};const formatDate=date=>{const data=new Date(date);return data.toISOString().split('T')[0];// Retorna apenas a parte da data (YYYY-MM-DD)\n};useEffect(()=>{buscarCargo();if(dadosFuncionarioParaEditar){setDadosFuncionario(dadosFuncionarioParaEditar);setIdFuncionario(dadosFuncionarioParaEditar.id);setEditar(true);reset({nome:dadosFuncionario.nome||\"\",dtNascimento:formatDate(dadosFuncionario.dtNascimento)||\"\",nomeMae:dadosFuncionario.nomeMae||\"\",nomePai:dadosFuncionario.nomePai||\"\",email:dadosFuncionario.email||\"\",senha:dadosFuncionario.senha||\"\",confirmarSenha:dadosFuncionario.senha||\"\",documento:dadosFuncionario.documento||\"\",cargo:dadosFuncionario.cargo_id||\"\",autorizacao:dadosFuncionario.autorizacao||\"\",telefone:dadosFuncionario.telefone||\"\",cep:dadosFuncionario.cep||\"\",logradouro:dadosFuncionario.logradouro||\"\",numero:dadosFuncionario.numero||\"\",complemento:dadosFuncionario.complemento||\"\",bairro:dadosFuncionario.bairro||\"\",cidade:dadosFuncionario.cidade||\"\",estado:dadosFuncionario.estado||\"\",pais:dadosFuncionario.pais||\"\"});}},[dadosFuncionarioParaEditar]);/////////////////////////////////////////////////////////////////\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form_content\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(enviarFormulario,onError),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"informacoePessoais\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Informa\\xE7\\xF5es Pessoais\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"alinhar_content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(User,{size:18}),\" Nome Completo\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",id:\"nomeCompleto\",placeholder:\"Digite seu nome completo\",...register(\"nome\")}),errors.nome&&/*#__PURE__*/_jsx(\"p\",{children:errors.nome.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(Calendar,{size:18}),\"Data de Nascimento\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"cadastro_input\",id:\"dtNascimento\",...register('dtNascimento'),inputMode:\"numeric\",pattern:\"[0-9]*\"}),errors.dtNascimento&&/*#__PURE__*/_jsx(\"p\",{children:errors.dtNascimento.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(User,{size:18}),\" Nome da M\\xE3e\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",id:\"nomeMae\",placeholder:\"Digite o nome da m\\xE3e completo\",...register(\"nomeMae\")}),errors.nomeMae&&/*#__PURE__*/_jsx(\"p\",{children:errors.nomeMae.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(User,{size:18}),\" Nome do Pai\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",id:\"nomePai\",placeholder:\"Digite o nome do pai completo\",...register(\"nomePai\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(Mail,{size:18}),\" Email\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"mail\",className:\"cadastro_input\",placeholder:\"Digite seu email\",...register(\"email\")}),errors.email&&/*#__PURE__*/_jsx(\"p\",{children:errors.email.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(Lock,{size:18}),\" Senha\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"cadastro_input\",placeholder:\"Digite sua senha\",...register(\"senha\")}),errors.senha&&/*#__PURE__*/_jsx(\"p\",{children:errors.senha.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(IdCard,{size:18}),\" N\\xFAmero do CPF\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",placeholder:`Digite seu número de CPF`,...register(\"documento\"),onChange:e=>{const value=e.target.value;setCPF_RG(value);// Atualiza o estado com o valor\nvalidarCPF_RG(value);// Passa o valor diretamente para a validação\n},inputMode:\"numeric\",pattern:\"[0-9]*\"}),errors.cpf_rg&&/*#__PURE__*/_jsx(\"p\",{children:errors.cpf_rg.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(Lock,{size:18}),\" Confirmar Senha\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"cadastro_input\",placeholder:\"Confirme sua senha\",...register(\"confirmarSenha\")}),errors.confirmarSenha&&/*#__PURE__*/_jsx(\"p\",{children:errors.confirmarSenha.message})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nacionalidade_documento\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Cargo e Autoriza\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"alinhar_content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(UserCog2,{size:18}),\" Cargo\"]}),/*#__PURE__*/_jsxs(\"select\",{id:\"cargo\",...register('cargo'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione um cargo\"}),cargos.map(cargo=>/*#__PURE__*/_jsx(\"option\",{value:cargo.id,children:cargo.nome},cargo.id))]}),errors.cargo&&/*#__PURE__*/_jsx(\"p\",{children:errors.cargo.message}),erroCargo&&/*#__PURE__*/_jsx(\"p\",{children:\"Erro ao carregar os cargos\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(KeyRound,{size:18}),\"Autoriza\\xE7\\xE3o\"]}),/*#__PURE__*/_jsxs(\"select\",{id:\"autorizacao\",placeholder:\"Selecione o n\\xEDvel de autoriza\\xE7\\xE3o\",...register('autorizacao'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Autoriza\\xE7\\xE3o Padr\\xE3o \"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Controle Total\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"contato_endereco\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Endere\\xE7o e contato\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"alinhar_contato_endereco\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(Phone,{size:18}),\"N\\xFAmero de Telefone\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",placeholder:\"N\\xFAmero de telefone com DDD\",...register(\"telefone\")}),errors.telefone&&/*#__PURE__*/_jsx(\"p\",{children:errors.telefone.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(MapPin,{size:18}),\"CEP\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",placeholder:\"Digite seu CEP\",...register(\"cep\"),onBlur:e=>{const novoCep=e.target.value;setCep(novoCep);setValue(\"cep\",novoCep);// sincroniza com react-hook-form\nbuscarCep(novoCep);},inputMode:\"numeric\",pattern:\"[0-9]*\",maxLength:8}),errors.cep&&/*#__PURE__*/_jsx(\"p\",{children:errors.cep.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(Home,{size:18}),\"Logradouro\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",placeholder:\"Nome da rua\",value:dadosEndereco.logradouro,...register(\"logradouro\"),onChange:()=>{}}),errors.logradouro&&/*#__PURE__*/_jsx(\"p\",{children:errors.logradouro.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(MapPinHouse,{size:18}),\"N\\xFAmero\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",placeholder:\"N\\xFAmero\",...register(\"numero\"),inputMode:\"numeric\",pattern:\"[0-9]*\"}),errors.numero&&/*#__PURE__*/_jsx(\"p\",{children:errors.numero.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(Building,{size:18}),\"Complemento\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",placeholder:\"Apartamento, bloco, etc\",...register(\"complemento\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(Landmark,{size:18}),\" Bairro\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",placeholder:\"Bairro\",value:dadosEndereco.bairro,...register(\"bairro\"),onChange:()=>{}}),errors.bairro&&/*#__PURE__*/_jsx(\"p\",{children:errors.bairro.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(Building2,{size:18}),\"Cidade\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",placeholder:\"Cidade\",value:dadosEndereco.localidade,...register(\"cidade\"),onChange:()=>{}}),errors.cidade&&/*#__PURE__*/_jsx(\"p\",{children:errors.cidade.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(MapPin,{size:18}),\"Estado\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",placeholder:\"Estado\",value:dadosEndereco.estado,...register(\"estado\"),onChange:()=>{}}),errors.estado&&/*#__PURE__*/_jsx(\"p\",{children:errors.estado.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit_label_input\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"alinhar_itens\",children:[/*#__PURE__*/_jsx(Flag,{size:18}),\"Pa\\xEDs\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cadastro_input\",placeholder:\"Pa\\xEDs\",...register(\"pais\")}),errors.pais&&/*#__PURE__*/_jsx(\"p\",{children:errors.pais.message})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[editar==false&&/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"cadastro_button\",children:\"Finalizar Cadastro\"}),editar==true&&/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"cadastro_button\",children:\"Salvar Dados\"})]})]})}),alertas&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-alerta\",children:[/*#__PURE__*/_jsx(\"p\",{onClick:()=>setAlertas(false),children:\"X\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"mensagem-alerta\",children:mensagem})})]})})]});}export default CadFuncionario;","map":{"version":3,"names":["React","Link","useEffect","useState","API_URL","HeaderComponente","User","Phone","MapPin","Calendar","Flag","Home","Mail","IdCard","FileText","Lock","MapPinHouse","Building2","Landmark","Building","Map","UserCog2","set","useForm","z","zodResolver","useNavigate","KeyRound","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CadFuncionario","_ref","dadosFuncionarioParaEditar","navigate","cep","setCep","dadosEndereco","setDadosEndereco","erroCep","setErroCep","cpf_rg","setCPF_RG","cargos","setCargo","erroCargo","setErroCargo","dadosFuncionario","setDadosFuncionario","editar","setEditar","idFuncionario","setIdFuncionario","mensagem","setMensagem","alertas","setAlertas","buscarCargo","resposta","fetch","data","json","ok","buscarCep","console","log","length","erro","validar","object","nome","string","min","message","dtNascimento","transform","val","Date","refine","date","nomeMae","nomePai","optional","email","trim","senha","s","confirmarSenha","documento","validarCPF_RG","cargo","coerce","number","autorizacao","telefone","logradouro","numero","complemento","bairro","cidade","estado","pais","path","replace","test","sum","i","parseInt","firstVerifier","secondVerifier","toString","register","handleSubmit","setValue","reset","watch","formState","errors","resolver","enviarFormulario","dados","JSON","stringify","id","cadastrar","method","headers","body","editado","sucesso","onError","formatDate","toISOString","split","cargo_id","children","className","onSubmit","size","type","placeholder","inputMode","pattern","onChange","e","value","target","map","onBlur","novoCep","maxLength","localidade","onClick"],"sources":["C:/Users/andre/hotel_green/frontend/src/componetes/cad_funcionario/cadFuncionario.js"],"sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'; //import para usar rotas\r\nimport { useEffect, useState } from 'react' //import para recuperar dados do back\r\nimport { API_URL } from '../../url';\r\nimport HeaderComponente from '../../componetes/header/headerComponente';\r\nimport { User, Phone, MapPin, Calendar, Flag, Home, Mail, IdCard, FileText, Lock, MapPinHouse, Building2, Landmark, Building, Map, UserCog2 } from 'lucide-react';\r\nimport \"./cadFuncionario.css\"\r\nimport { set, useForm} from 'react-hook-form';\r\nimport { z } from 'zod';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { KeyRound } from 'lucide-react';\r\n\r\n\r\n\r\nfunction CadFuncionario ({dadosFuncionarioParaEditar}){\r\n    const navigate =  useNavigate()\r\n\r\n    const [cep, setCep] = useState(\"\")\r\n    const [dadosEndereco, setDadosEndereco] = useState(\"\")\r\n    const [erroCep, setErroCep] = useState(\"\")\r\n    const [cpf_rg, setCPF_RG] = useState(\"\")\r\n    const [cargos, setCargo] = useState([])\r\n    const [erroCargo, setErroCargo] = useState(false)\r\n    const [dadosFuncionario, setDadosFuncionario] = useState(() => dadosFuncionarioParaEditar || {})\r\n    const [editar, setEditar] = useState(false)\r\n    const [idFuncionario, setIdFuncionario] = useState()\r\n    const [mensagem, setMensagem] = useState(\"\")\r\n    const [alertas, setAlertas] = useState(false)\r\n\r\n    \r\n    const buscarCargo = async() =>{\r\n      try{\r\n        const resposta = await fetch(`${API_URL}/cargos`);\r\n        const data = await resposta.json()\r\n\r\n        if(!resposta.ok){\r\n          setCargo([])\r\n          setErroCargo(true)\r\n        }\r\n\r\n        setCargo(data)\r\n      }\r\n      catch{\r\n        setCargo([])\r\n        setErroCargo(true)\r\n      }\r\n    }\r\n\r\n\r\n    ///////////////////API CORREIOS/////////////////////\r\n\r\n    const buscarCep = async (buscarCep) => {\r\n      console.log(\"chamando função\");\r\n      if(buscarCep.length > 7){\r\n        console.log(\"CEP digitado:\", buscarCep);\r\n      \r\n        try {\r\n          const resposta = await fetch(`${API_URL}/api/cep/${buscarCep}`);\r\n          const data = await resposta.json();\r\n      \r\n          if (!resposta.ok || data.erro) {\r\n            setErroCep(\"CEP não encontrado\");\r\n            setDadosEndereco({});\r\n            return;\r\n          }\r\n      \r\n          setDadosEndereco(data);\r\n          setErroCep(\"\");\r\n      \r\n          // Se quiser ver os dados, use um efeito ou log direto aqui\r\n          console.log(\"Dados recebidos:\", data);\r\n        }\r\n        finally{\r\n            \r\n        }\r\n      }\r\n        \r\n    };\r\n    /////////////////////////////////////////////////////////\r\n\r\n\r\n    /////////////validação formulário////////////////\r\n\r\n\r\n    const validar = z.object({\r\n        nome: z.string().min(10, { message: \"Nome completo é obrigatório\" }),\r\n        dtNascimento: z\r\n          .string()\r\n          .min(1, { message: \"A data de nascimento é obrigatória\" }) // Garante que o campo não está vazio\r\n          .transform((val) => new Date(val)) // Transforma em Date\r\n          .refine((date) => date <= new Date(), {\r\n            message: \"A data de nascimento não pode ser no futuro\",\r\n          }),\r\n      \r\n        nomeMae: z.string().min(10, { message: \"Nome da Mãe é obrigatório\" }),\r\n        nomePai : z.string().optional(),\r\n        email: z.string()\r\n          .email({ message: \"Formato de email inválido\" })\r\n          .refine(email => email.trim().length > 0, {\r\n            message: \"Email é obrigatório\"\r\n          }),\r\n        senha: z.string()\r\n          .min(8, \"A senha deve conter no mínimo 8 digitos\")\r\n          .refine(s => s.trim().length > 0, {\r\n            message: \"Por favor, crie uma senha\"\r\n          }),\r\n        confirmarSenha: z.string()\r\n          .refine(s => s.trim().length > 0, {\r\n            message: \"Por favor confirme sua senha\"\r\n          }),\r\n        documento: z\r\n          .string()\r\n          .refine((val) => val.trim().length > 0, {\r\n            message: \"CPF é obrigatório\"\r\n          })\r\n          .refine((val) => validarCPF_RG(val), {\r\n            message: \"CPF inválido\"\r\n          }),\r\n        cargo: z.coerce.number().min(1, \"Selecione um cargo válido\"),\r\n        autorizacao: z.coerce.number().min(1, \"Selecione um cargo válido\"),\r\n\r\n        telefone: z.string()\r\n          .refine(telefone => telefone.trim().length > 0, {\r\n            message: \"O número de telefone é obrigatório\"\r\n          }),\r\n        cep: z.string()\r\n          .optional(),\r\n        logradouro: z.string()\r\n          .refine(logradouro => logradouro.trim().length > 0, {\r\n            message: \"Logradouro é obrigatório\"\r\n          }),\r\n        numero: z.string()\r\n          .refine(numero => numero.trim().length > 0, {\r\n            message: \"Número é obrigatório\"\r\n          }),\r\n        complemento : z.string().optional(),\r\n        bairro: z.string()\r\n          .refine(bairro => bairro.trim().length > 0, {\r\n            message: \"Bairro é obrigatório\"\r\n          }),\r\n        cidade: z.string()\r\n          .refine(cidade => cidade.trim().length > 0, {\r\n            message: \"Cidade é obrigatório\"\r\n          }),\r\n        estado: z.string()\r\n          .refine(estado => estado.trim().length > 0, {\r\n            message: \"Estado é obrigatório\"\r\n          }),\r\n        pais: z.string()\r\n          .refine(pais => pais.trim().length > 0, {\r\n            message: \"País é obrigatório\"\r\n          }),\r\n        \r\n      })\r\n\r\n      .refine(data => data.senha === data.confirmarSenha, {\r\n        path: ['confirmarSenha'],\r\n        message: \"As senhas não coincidem\"\r\n      })\r\n\r\n      .refine(data => {\r\n          return data.cep && data.cep.trim().length > 0; \r\n      }, {\r\n        path: ['cep'],\r\n        message: \"CEP é obrigatório\"\r\n    })\r\n\r\n    \r\n      \r\n    ///////////////validação de CPF//////////////////\r\n    const validarCPF_RG = (cpf_rg) => {\r\n      console.log(cpf_rg)\r\n      if (!cpf_rg) return false; // Se cpf_rg for undefined ou null, retorna false imediatamente.\r\n    \r\n      // Se o documento for CPF\r\n      else{\r\n        cpf_rg = cpf_rg.replace(/[^\\d]/g, \"\"); // Remove caracteres não numéricos\r\n    \r\n        // Verifica se o CPF tem 11 dígitos e não é uma sequência repetitiva\r\n        if (cpf_rg.length !== 11 || /^(\\d)\\1{10}$/.test(cpf_rg)) return false;\r\n    \r\n        // Calcula os dígitos verificadores do CPF\r\n        let sum = 0;\r\n        for (let i = 0; i < 9; i++) sum += parseInt(cpf_rg[i]) * (10 - i);\r\n        let firstVerifier = 11 - (sum % 11);\r\n        firstVerifier = (firstVerifier === 10 || firstVerifier === 11) ? 0 : firstVerifier;\r\n    \r\n        sum = 0;\r\n        for (let i = 0; i < 10; i++) sum += parseInt(cpf_rg[i]) * (11 - i);\r\n        let secondVerifier = 11 - (sum % 11);\r\n        secondVerifier = (secondVerifier === 10 || secondVerifier === 11) ? 0 : secondVerifier;\r\n    \r\n        // Compara os dígitos verificadores calculados com os do CPF\r\n        return cpf_rg[9] === firstVerifier.toString() && cpf_rg[10] === secondVerifier.toString();\r\n      }\r\n    \r\n      // Lógica para validar RG (ainda não implementada)\r\n    \r\n      return true; // Se não for nem CPF nem RG, retorna true\r\n    };\r\n    \r\n    //////////////////////////////////////////////////////////////\r\n    \r\n    ////////////////////////ENIO FORMULARIO///////////////////////\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        setValue,\r\n        reset,\r\n        watch,\r\n        formState: { errors }\r\n    } = useForm({\r\n        resolver: zodResolver(validar)\r\n    })\r\n\r\n    const enviarFormulario = async (dados) => {     \r\n        console.log(\"chamando a função\")\r\n        console.log(`dados ${JSON.stringify(dados)}`)\r\n        console.log(alertas)\r\n        setAlertas(true)\r\n        console.log(alertas)\r\n        \r\n        if(editar){\r\n          try{\r\n            dados.id = idFuncionario\r\n            const cadastrar = await fetch(`${API_URL}/api/editarFuncionario`, {\r\n              method : 'POST',\r\n              headers : {\r\n                'Content-Type' : \"application/json\"\r\n              },\r\n              body : JSON.stringify(dados)\r\n            })\r\n\r\n            if(!cadastrar.editado){\r\n              setMensagem(\"Erro ao atualizar o cadastro do Funcionário\")\r\n            }\r\n\r\n            setMensagem(\"Cadastro do funcionario atualizado com sucesso\")\r\n            setDadosFuncionario({})\r\n            \r\n          }\r\n          catch (erro){\r\n            setMensagem(\"Erro ao atualizar o cadastro do Funcionário\")\r\n          } \r\n        }\r\n        else{\r\n          try{\r\n            const cadastrar = await fetch(`${API_URL}/api/cadFuncionario`, {\r\n              method : 'POST',\r\n              headers : {\r\n                'Content-Type' : \"application/json\"\r\n              },\r\n              body : JSON.stringify(dados)\r\n            })\r\n\r\n            if(!cadastrar.sucesso){\r\n              setMensagem(\"Erro ao cadastrar do Funcionário\")\r\n            }\r\n\r\n            setMensagem(\"Funcionário cadastrado com sucesso\")\r\n          }\r\n          catch (erro){\r\n            setMensagem(\"Erro ao cadastrar do Funcionário\")\r\n      \r\n          } \r\n        }\r\n\r\n\r\n    }\r\n\r\n    const onError = (errors) => {\r\n      console.log(\"❌ Erros de validação:\");\r\n      console.log(errors);\r\n    };\r\n\r\n    const formatDate = (date) => {\r\n      const data = new Date(date);\r\n      return data.toISOString().split('T')[0]; // Retorna apenas a parte da data (YYYY-MM-DD)\r\n    };\r\n\r\n    useEffect(() => {\r\n      buscarCargo();\r\n      \r\n      if (dadosFuncionarioParaEditar) {\r\n        setDadosFuncionario(dadosFuncionarioParaEditar);\r\n        setIdFuncionario(dadosFuncionarioParaEditar.id)\r\n        \r\n        setEditar(true)\r\n        \r\n\r\n        reset({\r\n          nome : dadosFuncionario.nome || \"\",\r\n          dtNascimento : formatDate(dadosFuncionario.dtNascimento) || \"\",\r\n          nomeMae : dadosFuncionario.nomeMae || \"\",\r\n          nomePai : dadosFuncionario.nomePai || \"\",\r\n          email : dadosFuncionario.email || \"\",\r\n          senha : dadosFuncionario.senha || \"\",\r\n          confirmarSenha: dadosFuncionario.senha || \"\",\r\n          documento : dadosFuncionario.documento || \"\",\r\n          cargo : dadosFuncionario.cargo_id || \"\",\r\n          autorizacao : dadosFuncionario.autorizacao || \"\",\r\n          telefone : dadosFuncionario.telefone || \"\",\r\n          cep : dadosFuncionario.cep || \"\",\r\n          logradouro : dadosFuncionario.logradouro || \"\",\r\n          numero : dadosFuncionario.numero || \"\",\r\n          complemento : dadosFuncionario.complemento || \"\",\r\n          bairro : dadosFuncionario.bairro || \"\",\r\n          cidade : dadosFuncionario.cidade || \"\",\r\n          estado : dadosFuncionario.estado || \"\",\r\n          pais : dadosFuncionario.pais || \"\",\r\n        })\r\n        \r\n      }\r\n    }, [dadosFuncionarioParaEditar]);\r\n\r\n    /////////////////////////////////////////////////////////////////\r\n\r\n    return(\r\n        <>\r\n                <div className='form_content'>\r\n                    <form onSubmit={handleSubmit(enviarFormulario, onError)}>\r\n                        <div className='informacoePessoais'>\r\n                            <h5>Informações Pessoais</h5>\r\n                            <hr></hr>\r\n                            <div className='alinhar_content'>\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <User size={18}/> Nome Completo\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' id='nomeCompleto'  placeholder='Digite seu nome completo' {...register(\"nome\")}></input>\r\n                                    {errors.nome && <p>{errors.nome.message}</p>}\r\n                                </div>\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <Calendar size={18} />Data de Nascimento\r\n                                    </label>\r\n                                    <input type='date' className='cadastro_input' id='dtNascimento' {...register('dtNascimento')} inputMode='numeric' pattern='[0-9]*'></input>\r\n                                    {errors.dtNascimento && <p>{errors.dtNascimento.message}</p>}\r\n                                </div>\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <User size={18}/> Nome da Mãe\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' id='nomeMae' placeholder='Digite o nome da mãe completo' {...register(\"nomeMae\")}></input>\r\n                                    {errors.nomeMae && <p>{errors.nomeMae.message}</p>}\r\n                                </div>\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <User size={18}/> Nome do Pai\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' id='nomePai'  placeholder='Digite o nome do pai completo' {...register(\"nomePai\")}></input>\r\n                                </div>\r\n\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <Mail size={18}/> Email\r\n                                    </label>\r\n                                    <input type='mail' className='cadastro_input'  placeholder='Digite seu email' {...register(\"email\")}></input>\r\n                                    {errors.email && <p>{errors.email.message}</p>}\r\n                                </div>\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <Lock size={18}/> Senha\r\n                                    </label>\r\n                                    <input type='password' className='cadastro_input'  placeholder='Digite sua senha' {...register(\"senha\")}></input>\r\n                                    {errors.senha && <p>{errors.senha.message}</p>}\r\n                                </div>\r\n                                <div className='edit_label_input'>\r\n                                  <label className='alinhar_itens'>\r\n                                    <IdCard size={18}/> Número do CPF\r\n                                  </label>\r\n                                  <input\r\n                                    type='text'\r\n                                    className='cadastro_input'\r\n                                    placeholder={`Digite seu número de CPF`}\r\n                                    \r\n                                    {...register(\"documento\")}\r\n                                    onChange={(e) => {\r\n                                      const value = e.target.value;\r\n                                      setCPF_RG(value); // Atualiza o estado com o valor\r\n                                      validarCPF_RG(value); // Passa o valor diretamente para a validação\r\n                                    }}\r\n                                    inputMode='numeric'\r\n                                    pattern='[0-9]*'\r\n                                  />\r\n                                    {errors.cpf_rg && <p>{errors.cpf_rg.message}</p>}\r\n                                </div>\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <Lock size={18}/> Confirmar Senha\r\n                                    </label>\r\n                                    <input type='password' className='cadastro_input' placeholder='Confirme sua senha'  {...register(\"confirmarSenha\")}></input>\r\n                                    {errors.confirmarSenha && <p>{errors.confirmarSenha.message}</p>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='nacionalidade_documento'>\r\n                            <h5>Cargo e Autorização</h5>\r\n                            <hr></hr>\r\n                              <div className='alinhar_content'>\r\n                                <div className='edit_label_input'>\r\n                                  <label className='alinhar_itens'>\r\n                                    <UserCog2 size={18}/> Cargo\r\n                                  </label>\r\n                                  <select \r\n                                    id='cargo' \r\n                                    {...register('cargo')}\r\n                                  >\r\n                                    <option value=\"\">Selecione um cargo</option>\r\n                                    {cargos.map(cargo => (\r\n                                      <option key={cargo.id} value={cargo.id}>\r\n                                        {cargo.nome}\r\n                                      </option>\r\n                                    ))}\r\n                                  </select>\r\n                                  {errors.cargo && <p>{errors.cargo.message}</p>}\r\n                                  {erroCargo && <p>Erro ao carregar os cargos</p>}\r\n                                </div>\r\n\r\n                                <div className='edit_label_input'>\r\n                                  <label className='alinhar_itens' >\r\n                                    <KeyRound size={18}/>Autorização\r\n                                  </label>\r\n                                  <select id='autorizacao'  placeholder=\"Selecione o nível de autorização\" {...(register('autorizacao'))}>\r\n                                    <option value={\"2\"} >Autorização Padrão </option>\r\n                                    <option value={\"1\"}>Controle Total</option>\r\n                                  </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='contato_endereco'>\r\n                            <h5>Endereço e contato</h5>\r\n                            <hr></hr>\r\n                            <div className='alinhar_contato_endereco'>\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <Phone size={18}/>Número de Telefone\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' placeholder='Número de telefone com DDD'  {...register(\"telefone\")}></input>\r\n                                    {errors.telefone && <p>{errors.telefone.message}</p>}\r\n                                </div>\r\n\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <MapPin size={18}/>CEP\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' placeholder='Digite seu CEP' \r\n                                      {...register(\"cep\")}\r\n                                      onBlur={(e) => {\r\n                                        const novoCep = e.target.value;\r\n                                        setCep(novoCep);\r\n                                        setValue(\"cep\", novoCep); // sincroniza com react-hook-form\r\n                                        buscarCep(novoCep);\r\n                                      }}\r\n                                      \r\n                                      inputMode='numeric'\r\n                                      pattern='[0-9]*'\r\n                                      maxLength={8}\r\n                                    >\r\n\r\n                                    </input>\r\n                                    {errors.cep && <p>{errors.cep.message}</p>}\r\n                                </div>\r\n\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <Home size={18}/>Logradouro\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' placeholder='Nome da rua' value={dadosEndereco.logradouro} {...register(\"logradouro\")} onChange={() => {}}></input>\r\n                                    {errors.logradouro && <p>{errors.logradouro.message}</p>}\r\n                                </div>\r\n\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <MapPinHouse size={18}/>Número\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' placeholder='Número'  {...register(\"numero\")} inputMode='numeric' pattern='[0-9]*'></input>\r\n                                    {errors.numero && <p>{errors.numero.message}</p>}\r\n                                </div>\r\n\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <Building size={18}/>Complemento\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' placeholder='Apartamento, bloco, etc' {...register(\"complemento\")}></input>\r\n                                </div>\r\n\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <Landmark size={18}/> Bairro\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' placeholder='Bairro' value={dadosEndereco.bairro} {...register(\"bairro\")} onChange={() => {}}></input>\r\n                                    {errors.bairro && <p>{errors.bairro.message}</p>}\r\n                                </div>\r\n\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <Building2 size={18}/>Cidade\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' placeholder='Cidade' value={dadosEndereco.localidade} {...register(\"cidade\")} onChange={() => {}}></input>\r\n                                    {errors.cidade && <p>{errors.cidade.message}</p>}\r\n                                </div>\r\n\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <MapPin size={18}/>Estado\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' placeholder='Estado' value={dadosEndereco.estado} {...register(\"estado\")} onChange={() => {}}></input>\r\n                                    {errors.estado && <p>{errors.estado.message}</p>}\r\n                                </div>\r\n\r\n                                <div className='edit_label_input'>\r\n                                    <label className='alinhar_itens'>\r\n                                        <Flag size={18}/>País\r\n                                    </label>\r\n                                    <input type='text' className='cadastro_input' placeholder='País'  {...register(\"pais\")}></input>\r\n                                    {errors.pais && <p>{errors.pais.message}</p>}\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div >\r\n                            {editar == false &&<button type='submit' className='cadastro_button'>Finalizar Cadastro</button>}\r\n                            {editar == true &&<button type='submit' className='cadastro_button'>Salvar Dados</button>}\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                {alertas && (\r\n                  <div className='modal-overlay'>\r\n                    <div className='modal-alerta'>\r\n                      <p onClick={() => setAlertas(false)}>X</p>\r\n                      <div>\r\n                        <p className='mensagem-alerta'>{mensagem}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CadFuncionario"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}