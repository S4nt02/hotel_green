{"ast":null,"code":"var _jsxFileName = \"C:\\\\hotel_green\\\\frontend\\\\src\\\\componetes\\\\fazerReserva\\\\fazerReserva.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { API_URL } from \"../../url\";\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport { Navigation } from 'swiper/modules';\nimport { useAuth } from \"../../context/authContext\";\nimport { Link } from \"react-router-dom\";\nimport \"./fazerReserva.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FazerReserva() {\n  _s();\n  var _unidades$find;\n  const {\n    id,\n    autorizacao,\n    nomeUser\n  } = useAuth();\n  const [telaExibida, setTelaExibida] = useState(1);\n  const [tpQuartos, setDadosTpQuarto] = useState([]);\n  const [unidades, setUnidades] = useState([]);\n  const hoje = new Date().toISOString().split(\"T\")[0]; // \"YYYY-MM-DD\"\n  const [checkIn, setCheckIn] = useState(hoje);\n  const [checkOut, setCheckOut] = useState(\"\");\n  const [unidadeBuscar, setUnidadeBuscar] = useState(\"\");\n  const [exibirTpQuartos, setExibirTpQuartos] = useState([]);\n  const [acomodacoesDisponiveis, setAcomodacoesDisp] = useState([]);\n  const [tpQuartoSelecionado, setTpQuartoSelecionado] = useState([]);\n  const [periodo, setPeriodo] = useState([]);\n  const [acompanhantesAdultos, setAcompanhantesAdultos] = useState([]);\n  const [acompanhantesCriancas, setAcompanhantesCriancas] = useState([]);\n  const [erroMensage, setMensageErro] = useState(\"\");\n  const [reservaFeita, setReservaFeita] = useState(false);\n  const buscarTpQuarto = async () => {\n    try {\n      const buscarTiposQuartos = await fetch(`${API_URL}/api/buscarTipoQuartos`);\n      const dados = await buscarTiposQuartos.json();\n      setDadosTpQuarto(dados);\n      setExibirTpQuartos(dados);\n    } catch (erro) {\n      console.error(\"Erro ao buscar tipos de quarto:\", erro);\n    }\n  };\n  const buscarUnidade = async () => {\n    try {\n      const buscarUnidade = await fetch(`${API_URL}/api/buscarUnidade`);\n      const dados = await buscarUnidade.json();\n      setUnidades(dados);\n    } catch (erro) {\n      console.error(\"Erro ao buscar unidades:\", erro);\n    }\n  };\n  const buscarAcomodacoesDisp = async () => {\n    const parametros = {\n      checkIn,\n      checkOut,\n      unidade: unidadeBuscar\n    };\n    try {\n      const buscarDisp = await fetch(`${API_URL}/api/quartosDisponiveis`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(parametros)\n      });\n      const dados = await buscarDisp.json();\n      setAcomodacoesDisp(dados.acomodacoesDisponiveis);\n\n      // Corrigido: exibe tipos de quarto disponíveis, com ou sem unidade selecionada\n      if (tpQuartos.length > 0) {\n        // Primeiro filtra pelos disponíveis na data\n        let tiposFiltrados = tpQuartos.filter(tpQuarto => dados.tpAcomodacao.includes(tpQuarto.id));\n\n        // Depois, se unidade estiver definida, refina o filtro\n        if (unidadeBuscar && unidadeBuscar !== \"\") {\n          tiposFiltrados = tiposFiltrados.filter(tpQuarto => String(tpQuarto.unidade_hotel) === String(unidadeBuscar));\n        }\n        setExibirTpQuartos(tiposFiltrados);\n      } else {\n        console.warn(\"tpQuartos ainda está vazio no momento do filtro.\");\n      }\n    } catch (erro) {\n      console.error(\"Erro ao buscar acomodações:\", erro);\n    }\n  };\n  const setTpQuartoInfos = id => {\n    const quartoInfo = exibirTpQuartos.find(tpQuarto => tpQuarto.id === id);\n    setTpQuartoSelecionado(quartoInfo); // quartoInfo será um objeto\n    calcularDiferencaDias(checkIn, checkOut);\n    setAcompanhantesAdultos(Array(quartoInfo.quantidade_adultos).fill(\"\"));\n    setAcompanhantesCriancas(Array(quartoInfo.quantidade_criancas).fill(\"\"));\n  };\n  const calcularDiferencaDias = (checkIn, checkOut) => {\n    const dataInicial = new Date(checkIn);\n    const dataFinal = new Date(checkOut);\n    dataInicial.setHours(0, 0, 0, 0);\n    dataFinal.setHours(0, 0, 0, 0);\n    const diferencaEmMs = dataFinal.getTime() - dataInicial.getTime();\n    const diferencaEmDias = Math.floor(diferencaEmMs / (1000 * 60 * 60 * 24));\n    setPeriodo(diferencaEmDias);\n  };\n  const confirmarReserva = async () => {\n    if (id === \"\" || id === null) {\n      setMensageErro(\"Realize login ou cadastre-se para confirmar a reserva\");\n      return;\n    }\n    const dados = {\n      checkIn,\n      checkOut,\n      periodo,\n      unidade: unidadeBuscar,\n      tpAcomodacao: tpQuartoSelecionado.id,\n      vlDiaria: tpQuartoSelecionado.vlDiaria,\n      id_hospede: id,\n      acompanhantesAdultos,\n      acompanhantesCriancas\n    };\n    try {\n      const confirmarReserva = await fetch(`${API_URL}/api/confirmarReserva`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(dados)\n      });\n      const dadosReserva = await confirmarReserva.json();\n      if (dadosReserva.message) {\n        // poderia exibir mensagem ou tratar erro\n      }\n      setReservaFeita(true);\n    } catch (erro) {\n      console.error(\"Erro ao confirmar reserva:\", erro);\n    }\n  };\n  const avancar = () => {\n    if (tpQuartoSelecionado.length !== 0) {\n      setTelaExibida(2);\n    } else {\n      setMensageErro(\"Por favor selecione um tipo de acomodação\");\n    }\n  };\n  useEffect(() => {\n    buscarTpQuarto();\n    buscarUnidade();\n  }, []);\n  useEffect(() => {\n    if (checkIn && checkOut) {\n      buscarAcomodacoesDisp();\n    } else {\n      setAcomodacoesDisp([]);\n      setExibirTpQuartos([]);\n    }\n  }, [checkIn, checkOut, unidadeBuscar]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [telaExibida === 1 &&\n    /*#__PURE__*/\n    // tela de seleção dos valores\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card_reservas\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Informa\\xE7\\xF5es\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Unidade\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: unidadeBuscar,\n          onChange: e => setUnidadeBuscar(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: '',\n            children: \"Selecione uma unidade\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this), unidades.map(unidade => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: unidade.id,\n            children: unidade.nomeUnidade\n          }, unidade.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 33\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Check-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: checkIn,\n          onChange: e => setCheckIn(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Check-out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: checkOut,\n          onChange: e => setCheckOut(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Tipos de Acomodo\\xE7\\xF5es\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: exibirTpQuartos.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: exibirTpQuartos.map(tpQuarto => {\n              var _tpQuarto$imagens;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: tpQuarto.nomeAcomodacao\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Swiper, {\n                    modules: [Navigation],\n                    navigation: true,\n                    spaceBetween: 10,\n                    slidesPerView: 1,\n                    style: {\n                      width: '300px',\n                      height: '300px'\n                    },\n                    children: (_tpQuarto$imagens = tpQuarto.imagens) === null || _tpQuarto$imagens === void 0 ? void 0 : _tpQuarto$imagens.map((url, index) => /*#__PURE__*/_jsxDEV(SwiperSlide, {\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: url,\n                        alt: `Imagem ${index + 1}`,\n                        style: {\n                          width: '300px',\n                          height: '300px',\n                          objectFit: 'cover'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 216,\n                        columnNumber: 53\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 53\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setTpQuartoInfos(tpQuarto.id),\n                  children: \"Selecionar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 45\n                }, this)]\n              }, tpQuarto.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 41\n              }, this);\n            })\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Sem acomoda\\xE7\\xF5es disponiveis para essa unidade nesta data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 37\n            }, this)\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: avancar,\n          children: \"Avan\\xE7ar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), telaExibida === 2 &&\n    /*#__PURE__*/\n    //tela de confirmaçao de informações\n    _jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Confirmar Reservas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Revise os detalhes de sua reserva antes de confirmar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Unidade: \", (_unidades$find = unidades.find(unidade => String(unidade.id) === String(unidadeBuscar))) === null || _unidades$find === void 0 ? void 0 : _unidades$find.nomeUnidade]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Check-in: \", checkIn]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Check-out: \", checkOut]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Per\\xEDodo: \", periodo, \" noites \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Acomoda\\xE7\\xE3o: \", tpQuartoSelecionado.nomeAcomodacao]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Diaria: \", tpQuartoSelecionado.vlDiaria]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Informa\\xE7\\xF5es Adicionais\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"* O check-In deve ser realizado ap\\xF3s as 12:00 hrs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"* O check-Out deve ser realizado at\\xE9 as 12:00 hrs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"* O cancelamento da reserva pode ser feito at\\xE9 12 horas antes do hor\\xE1rio de \\xEDnicio da realiza\\xE7\\xE3o do chec-in, cancelamentos ap\\xF3s esse limite ser\\xE1 cobrada uma taxa de multa pelo cancelamento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Hospede: \", nomeUser]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Acompanhantes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 37\n              }, this), tpQuartoSelecionado.quantidade_adultos > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Adultos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 49\n                  }, this), [...Array(tpQuartoSelecionado.quantidade_adultos)].map((_, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: `Acompanhante ${index + 1}`,\n                    value: acompanhantesAdultos[index] || \"\",\n                    onChange: e => {\n                      const novoAcompanhantes = [...acompanhantesAdultos];\n                      novoAcompanhantes[index] = e.target.value;\n                      setAcompanhantesAdultos(novoAcompanhantes);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 53\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false), tpQuartoSelecionado.quantidade_criancas > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Crian\\xE7as\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 49\n                  }, this), [...Array(tpQuartoSelecionado.quantidade_criancas)].map((_, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: `Criança ${index + 1}`,\n                    value: acompanhantesCriancas[index] || \"\",\n                    onChange: e => {\n                      const novoAcompanhantes = [...acompanhantesCriancas];\n                      novoAcompanhantes[index] = e.target.value;\n                      setAcompanhantesCriancas(novoAcompanhantes);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 53\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setTelaExibida(1),\n            children: \"Voltar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: confirmarReserva,\n            children: \"Confirmar Reservas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 21\n      }, this)\n    }, void 0, false), reservaFeita && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay-reservas\",\n        onClick: () => setReservaFeita(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reservaFeita\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Reserva Realizada com sucesso, acesso \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/minhasReservas\",\n              children: \"Minahs reservas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 70\n            }, this), \" para conferir sua reserva\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 21\n      }, this)\n    }, void 0, false)]\n  }, void 0, true);\n}\n_s(FazerReserva, \"oDxJ/tvw7t5y0qtAeuGMeAZ9ZxI=\", false, function () {\n  return [useAuth];\n});\n_c = FazerReserva;\nexport default FazerReserva;\nvar _c;\n$RefreshReg$(_c, \"FazerReserva\");","map":{"version":3,"names":["useEffect","useState","API_URL","Swiper","SwiperSlide","Navigation","useAuth","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","FazerReserva","_s","_unidades$find","id","autorizacao","nomeUser","telaExibida","setTelaExibida","tpQuartos","setDadosTpQuarto","unidades","setUnidades","hoje","Date","toISOString","split","checkIn","setCheckIn","checkOut","setCheckOut","unidadeBuscar","setUnidadeBuscar","exibirTpQuartos","setExibirTpQuartos","acomodacoesDisponiveis","setAcomodacoesDisp","tpQuartoSelecionado","setTpQuartoSelecionado","periodo","setPeriodo","acompanhantesAdultos","setAcompanhantesAdultos","acompanhantesCriancas","setAcompanhantesCriancas","erroMensage","setMensageErro","reservaFeita","setReservaFeita","buscarTpQuarto","buscarTiposQuartos","fetch","dados","json","erro","console","error","buscarUnidade","buscarAcomodacoesDisp","parametros","unidade","buscarDisp","method","headers","body","JSON","stringify","length","tiposFiltrados","filter","tpQuarto","tpAcomodacao","includes","String","unidade_hotel","warn","setTpQuartoInfos","quartoInfo","find","calcularDiferencaDias","Array","quantidade_adultos","fill","quantidade_criancas","dataInicial","dataFinal","setHours","diferencaEmMs","getTime","diferencaEmDias","Math","floor","confirmarReserva","vlDiaria","id_hospede","dadosReserva","message","avancar","children","className","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","nomeUnidade","type","_tpQuarto$imagens","nomeAcomodacao","modules","navigation","spaceBetween","slidesPerView","style","width","height","imagens","url","index","src","alt","objectFit","onClick","_","placeholder","novoAcompanhantes","to","_c","$RefreshReg$"],"sources":["C:/hotel_green/frontend/src/componetes/fazerReserva/fazerReserva.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { API_URL } from \"../../url\"\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/css';\r\nimport 'swiper/css/navigation';\r\nimport { Navigation } from 'swiper/modules';\r\nimport { useAuth } from \"../../context/authContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./fazerReserva.css\"\r\n\r\nfunction FazerReserva () {\r\n\r\n    const { id, autorizacao, nomeUser } = useAuth();\r\n    const [telaExibida, setTelaExibida] = useState(1);\r\n    const [tpQuartos, setDadosTpQuarto] = useState([]);\r\n    const [unidades, setUnidades] = useState([]);\r\n\r\n    const hoje = new Date().toISOString().split(\"T\")[0]; // \"YYYY-MM-DD\"\r\n    const [checkIn, setCheckIn] = useState(hoje);\r\n    const [checkOut, setCheckOut] = useState(\"\");\r\n    const [unidadeBuscar, setUnidadeBuscar] = useState(\"\");\r\n    const [exibirTpQuartos, setExibirTpQuartos] = useState([]);\r\n    const [acomodacoesDisponiveis, setAcomodacoesDisp] = useState([]);\r\n    const [tpQuartoSelecionado, setTpQuartoSelecionado] = useState([]);\r\n    const [periodo, setPeriodo] = useState([]);\r\n    const [acompanhantesAdultos, setAcompanhantesAdultos] = useState([]);\r\n    const [acompanhantesCriancas, setAcompanhantesCriancas] = useState([]);\r\n    const [erroMensage, setMensageErro] = useState(\"\");\r\n    const [reservaFeita, setReservaFeita] = useState(false);\r\n\r\n    const buscarTpQuarto = async () => {\r\n    try {\r\n        const buscarTiposQuartos = await fetch(`${API_URL}/api/buscarTipoQuartos`);\r\n        const dados = await buscarTiposQuartos.json();\r\n\r\n        setDadosTpQuarto(dados);\r\n        setExibirTpQuartos(dados);\r\n    } catch (erro) {\r\n        console.error(\"Erro ao buscar tipos de quarto:\", erro);\r\n    }\r\n    };\r\n\r\n    const buscarUnidade = async () => {\r\n        try {\r\n            const buscarUnidade = await fetch(`${API_URL}/api/buscarUnidade`);\r\n            const dados = await buscarUnidade.json();\r\n\r\n            setUnidades(dados);\r\n        } catch (erro) {\r\n            console.error(\"Erro ao buscar unidades:\", erro);\r\n        }\r\n    };\r\n\r\n    const buscarAcomodacoesDisp = async () => {\r\n        const parametros = {\r\n            checkIn,\r\n            checkOut,\r\n            unidade: unidadeBuscar,\r\n        };\r\n\r\n        try {\r\n            const buscarDisp = await fetch(`${API_URL}/api/quartosDisponiveis`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(parametros),\r\n            });\r\n\r\n            const dados = await buscarDisp.json();\r\n\r\n            setAcomodacoesDisp(dados.acomodacoesDisponiveis);\r\n\r\n            // Corrigido: exibe tipos de quarto disponíveis, com ou sem unidade selecionada\r\n            if (tpQuartos.length > 0) {\r\n            // Primeiro filtra pelos disponíveis na data\r\n            let tiposFiltrados = tpQuartos.filter(tpQuarto =>\r\n                dados.tpAcomodacao.includes(tpQuarto.id)\r\n            );\r\n\r\n            // Depois, se unidade estiver definida, refina o filtro\r\n            if (unidadeBuscar && unidadeBuscar !== \"\") {\r\n                tiposFiltrados = tiposFiltrados.filter(tpQuarto =>\r\n                String(tpQuarto.unidade_hotel) === String(unidadeBuscar)\r\n                );\r\n            }\r\n\r\n            setExibirTpQuartos(tiposFiltrados);\r\n            } else {\r\n            console.warn(\"tpQuartos ainda está vazio no momento do filtro.\");\r\n            }\r\n\r\n        } catch (erro) {\r\n            console.error(\"Erro ao buscar acomodações:\", erro);\r\n        }\r\n    };\r\n\r\n    const setTpQuartoInfos = (id) => {\r\n        const quartoInfo = exibirTpQuartos.find(tpQuarto => tpQuarto.id === id);\r\n        setTpQuartoSelecionado(quartoInfo); // quartoInfo será um objeto\r\n        calcularDiferencaDias(checkIn, checkOut);\r\n        setAcompanhantesAdultos(Array(quartoInfo.quantidade_adultos).fill(\"\"));\r\n        setAcompanhantesCriancas(Array(quartoInfo.quantidade_criancas).fill(\"\"));\r\n    };\r\n\r\n    const calcularDiferencaDias = (checkIn, checkOut) => {\r\n        const dataInicial = new Date(checkIn);\r\n        const dataFinal = new Date(checkOut);\r\n\r\n        dataInicial.setHours(0, 0, 0, 0);\r\n        dataFinal.setHours(0, 0, 0, 0);\r\n\r\n        const diferencaEmMs = dataFinal.getTime() - dataInicial.getTime();\r\n        const diferencaEmDias = Math.floor(diferencaEmMs / (1000 * 60 * 60 * 24));\r\n\r\n        setPeriodo(diferencaEmDias);\r\n    };\r\n\r\n    const confirmarReserva = async () => {\r\n        if (id === \"\" || id === null) {\r\n            setMensageErro(\"Realize login ou cadastre-se para confirmar a reserva\");\r\n            return;\r\n        }\r\n\r\n        const dados = {\r\n            checkIn,\r\n            checkOut,\r\n            periodo,\r\n            unidade: unidadeBuscar,\r\n            tpAcomodacao: tpQuartoSelecionado.id,\r\n            vlDiaria: tpQuartoSelecionado.vlDiaria,\r\n            id_hospede: id,\r\n            acompanhantesAdultos,\r\n            acompanhantesCriancas,\r\n        };\r\n\r\n        try {\r\n            const confirmarReserva = await fetch(`${API_URL}/api/confirmarReserva`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(dados),\r\n            });\r\n\r\n            const dadosReserva = await confirmarReserva.json();\r\n\r\n            if (dadosReserva.message) {\r\n            // poderia exibir mensagem ou tratar erro\r\n            }\r\n\r\n            setReservaFeita(true);\r\n        } catch (erro) {\r\n            console.error(\"Erro ao confirmar reserva:\", erro);\r\n        }\r\n    };\r\n\r\n    const avancar = () => {\r\n    if (tpQuartoSelecionado.length !== 0) {\r\n        setTelaExibida(2);\r\n    } else {\r\n        setMensageErro(\"Por favor selecione um tipo de acomodação\");\r\n    }\r\n    };\r\n\r\n    useEffect(() => {\r\n    buscarTpQuarto();\r\n    buscarUnidade();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n    if (checkIn && checkOut) {\r\n        buscarAcomodacoesDisp();\r\n    } else {\r\n        setAcomodacoesDisp([]);\r\n        setExibirTpQuartos([]);\r\n    }\r\n    }, [checkIn, checkOut, unidadeBuscar]);\r\n\r\n\r\n\r\n    return(\r\n        <>\r\n            {telaExibida === 1 &&(\r\n                // tela de seleção dos valores\r\n                <>\r\n                    <div className=\"card_reservas\">\r\n                        <h1>Informações</h1>\r\n                        <label>Unidade</label>\r\n                        <select value={unidadeBuscar} onChange={(e) => setUnidadeBuscar(e.target.value)}>\r\n                            <option value={''}>Selecione uma unidade</option>\r\n                            {unidades.map(unidade =>(\r\n                                <option key={unidade.id} value={unidade.id}>{unidade.nomeUnidade}</option>\r\n                            ))}\r\n                        </select>                        \r\n                        <label>Check-in</label>\r\n                        <input type=\"date\" value={checkIn} onChange={(e) => setCheckIn(e.target.value)}></input>\r\n                        <label>Check-out</label>\r\n                        <input type=\"date\" value={checkOut} onChange={(e) => setCheckOut(e.target.value)}></input>\r\n\r\n                    </div>\r\n                    <div>\r\n                        <h1>Tipos de Acomodoções</h1>\r\n                        <div>\r\n                            {exibirTpQuartos.length > 0 ? (\r\n                                <>\r\n                                    {exibirTpQuartos.map(tpQuarto =>(\r\n                                        <div key={tpQuarto.id}>\r\n                                            <h3>{tpQuarto.nomeAcomodacao}</h3>\r\n                                            <div>\r\n                                                <Swiper\r\n                                                modules={[Navigation]}\r\n                                                navigation\r\n                                                spaceBetween={10}\r\n                                                slidesPerView={1}\r\n                                                style={{ width: '300px', height: '300px' }}\r\n                                                >\r\n                                                {tpQuarto.imagens?.map((url, index) => (\r\n                                                    <SwiperSlide key={index}>\r\n                                                    <img src={url} alt={`Imagem ${index + 1}`} style={{ width: '300px', height: '300px', objectFit: 'cover' }} />\r\n                                                    </SwiperSlide>\r\n                                                ))}\r\n                                                </Swiper>\r\n                                            </div>\r\n                                            <button onClick={() => setTpQuartoInfos(tpQuarto.id)}>Selecionar</button>\r\n                                        </div>\r\n                                        \r\n                                    ))} \r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <p>Sem acomodações disponiveis para essa unidade nesta data</p>\r\n                                </>\r\n                            )}\r\n\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={avancar}>Avançar</button>\r\n                    </div>\r\n                </>\r\n            )}\r\n\r\n            {telaExibida === 2 &&(\r\n                //tela de confirmaçao de informações\r\n                <>\r\n                    <div>\r\n                        <h3>Confirmar Reservas</h3>\r\n                        <p>Revise os detalhes de sua reserva antes de confirmar</p>\r\n                        <div>\r\n                            <p>Unidade: {unidades.find(unidade => String(unidade.id) === String(unidadeBuscar))?.nomeUnidade}</p>\r\n                            <p>Check-in: {checkIn}</p>\r\n                            <p>Check-out: {checkOut}</p>\r\n                            <p>Período: {periodo} noites </p>\r\n                            <p>Acomodação: {tpQuartoSelecionado.nomeAcomodacao}</p>\r\n                            <p>Diaria: {tpQuartoSelecionado.vlDiaria}</p>\r\n                            <div>\r\n                                <p>Informações Adicionais</p>\r\n                                <p>* O check-In deve ser realizado após as 12:00 hrs</p>\r\n                                <p>* O check-Out deve ser realizado até as 12:00 hrs</p>\r\n                                <p>* O cancelamento da reserva pode ser feito até 12 horas antes do horário de ínicio da realização do chec-in, cancelamentos após esse limite será cobrada uma taxa de multa pelo cancelamento</p>\r\n                            </div>\r\n                            <div>\r\n                                <p>Hospede: {nomeUser}</p>\r\n                                <div>\r\n                                    <p>Acompanhantes</p>\r\n                                    {tpQuartoSelecionado.quantidade_adultos > 1 && (\r\n                                        <>\r\n                                            <div>\r\n                                                <label>Adultos</label>\r\n                                                {[...Array(tpQuartoSelecionado.quantidade_adultos)].map((_, index) =>(\r\n                                                    <input type=\"text\" placeholder={`Acompanhante ${index + 1}`}\r\n                                                        value={acompanhantesAdultos[index] || \"\"}\r\n                                                        onChange={(e) => {\r\n                                                            const novoAcompanhantes = [...acompanhantesAdultos]\r\n                                                            novoAcompanhantes[index] = e.target.value\r\n                                                            setAcompanhantesAdultos(novoAcompanhantes)\r\n                                                        }}\r\n                                                    ></input>\r\n                                                ))}\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                    {tpQuartoSelecionado.quantidade_criancas > 0 && (\r\n                                        <>\r\n                                            <div>\r\n                                                <label>Crianças</label>\r\n                                                 {[...Array(tpQuartoSelecionado.quantidade_criancas)].map((_, index) =>(\r\n                                                    <input type=\"text\" placeholder={`Criança ${index + 1}`}\r\n                                                        value={acompanhantesCriancas[index] || \"\"}\r\n                                                        onChange={(e) => {\r\n                                                            const novoAcompanhantes = [...acompanhantesCriancas]\r\n                                                            novoAcompanhantes[index] = e.target.value\r\n                                                            setAcompanhantesCriancas(novoAcompanhantes)\r\n                                                        }}\r\n                                                    ></input>\r\n                                                 ))}\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <button onClick={() => setTelaExibida(1)}>Voltar</button>\r\n                            <button onClick={confirmarReserva}>Confirmar Reservas</button>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n\r\n            {reservaFeita && (\r\n                <>\r\n                    <div className=\"overlay-reservas\" onClick={() => setReservaFeita(false)}>\r\n                        <div className=\"reservaFeita\">\r\n                            <p>Reserva Realizada com sucesso, acesso <Link to=\"/minhasReservas\">Minahs reservas</Link> para conferir sua reserva</p>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FazerReserva"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}